<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Responsive Background (16:9)</title>
  <style>
    /* Grundlayout – kein Scrollen */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden; /* kein Scrollen */
      background: #000; /* schwarzer Hintergrund hinter dem Bild */
    }

    /* Container zentriert das Bild sowohl horizontal als auch vertical */
    #bg-container {
      position: fixed;
      inset: 0; /* top/right/bottom/left: 0 */
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent; /* Hintergrund schwarz bleibt von Body */
    }

    /* Bild: wir steuern Größe per JS (width/height auto/100%)
       zusätzlich als Sicherheitsnetz: max-width/max-height = 100% verhindert Überschuss */
    #bg-img {
      display: block;
      max-width: 100%;
      max-height: 100%;
      width: auto;    /* initial */
      height: auto;   /* initial */
      user-select: none;
      -webkit-user-drag: none;
      image-rendering: auto;
    }

    /* Optional: verhindert dass bei sehr kleinen Viewports Ränder entstehen */
    @media (max-width: 320px) {
      #bg-img { max-width: 120%; max-height: 120%; }
    }
  </style>
</head>
<body>
  <div id="bg-container">
    <!-- Leg `hintergrund.jpg` in dasselbe Verzeichnis wie diese Datei -->
    <img id="bg-img" src="hintergrund.jpg" alt="Hintergrund" decoding="async" />
  </div>

  <script>
    (function() {
      const img = document.getElementById('bg-img');
      const IMAGE_RATIO = 16 / 9;

      function applySizing() {
        const w = window.innerWidth;
        const h = window.innerHeight;
        const screenRatio = w / h;

        if (screenRatio >= IMAGE_RATIO) {
          img.style.width = '100%';
          img.style.height = 'auto';
        } else {
          img.style.width = 'auto';
          img.style.height = '100%';
        }
      }

      let rAF = null;
      function onResize() {
        if (rAF !== null) cancelAnimationFrame(rAF);
        rAF = requestAnimationFrame(() => {
          applySizing();
          rAF = null;
        });
      }

      if (img.complete) {
        applySizing();
      } else {
        img.addEventListener('load', applySizing, { once: true });
        setTimeout(applySizing, 50);
      }

      window.addEventListener('resize', onResize);
      window.addEventListener('orientationchange', onResize);
      document.addEventListener('DOMContentLoaded', applySizing);
    })();
  </script>
</body>
</html>
